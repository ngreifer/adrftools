<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate an average dose-response function (ADRF) — adrf • adrftools</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate an average dose-response function (ADRF) — adrf"><meta name="description" content="Estimates the average dose-response function (ADRF) for a fitted model object."><meta property="og:description" content="Estimates the average dose-response function (ADRF) for a fitted model object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adrftools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/adrftools.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/adrftools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate an average dose-response function (ADRF)</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/adrftools/blob/main/R/adrf.R" class="external-link"><code>R/adrf.R</code></a></small>
      <div class="d-none name"><code>adrf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Estimates the average dose-response function (ADRF) for a fitted model object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">adrf</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">adrf</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">treat</span>,</span>
<span>  vcov <span class="op">=</span> <span class="st">"unconditional"</span>,</span>
<span>  cluster <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"response"</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  range <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">71</span>,</span>
<span>  fwb.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a fitted model object (e.g., from <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> or <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm()</a></code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further arguments passed to <code><a href="https://marginaleffects.com/man/r/get_predict.html" class="external-link">marginaleffects::get_predict()</a></code>.</p></dd>


<dt id="arg-treat">treat<a class="anchor" aria-label="anchor" href="#arg-treat"></a></dt>
<dd><p>a string specifying the name of the treatment variable.</p></dd>


<dt id="arg-vcov">vcov<a class="anchor" aria-label="anchor" href="#arg-vcov"></a></dt>
<dd><p>how the covariance matrix of the estimates should be computed. If <code>"unconditional"</code> (default), use the sandwich estimator including sampling uncertainty. If <code>"boot"</code> or <code>"fwb"</code>, use the traditional or fractional weighted bootstrap, respectively (both of which require the <a href="https://CRAN.R-project.org/package=fwb" class="external-link"><span class="pkg">fwb</span></a> package to be installed). Otherwise, may be a covariance matrix or other allowed input to the <code>vcov</code> argument of <code><a href="https://marginaleffects.com/man/r/get_vcov.html" class="external-link">marginaleffects::get_vcov()</a></code>. Can also be <code>"none"</code> to avoid computing the uncertainty.</p></dd>


<dt id="arg-cluster">cluster<a class="anchor" aria-label="anchor" href="#arg-cluster"></a></dt>
<dd><p>an optional data frame or one-sided formula with the clustering terms for cluster-robust inference.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>character string indicating the type of prediction. Passed to <code><a href="https://marginaleffects.com/man/r/get_predict.html" class="external-link">marginaleffects::get_predict()</a></code>. Default is <code>"response"</code> for predictions on the scale of the outcome variable. Other options might include <code>"link"</code> for the linear predictor. This argument is ignored for <code>lm</code> objects.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>an optional data frame containing the observations originally used to fit the outcome model supplied to <code>x</code>. This should only be used if the supplied model is not supported by <span class="pkg">insight</span>. In most cases, this should not need to be supplied.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>an optional logical expression indicating the subset of data to use for estimation. Will be evaluated in the environment of the original dataset supplied to the model fitting function.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>optional variable(s) over which to group the estimation. Can be a character vector or one-sided formula.</p></dd>


<dt id="arg-wts">wts<a class="anchor" aria-label="anchor" href="#arg-wts"></a></dt>
<dd><p>optional numeric vector of weights to generalize the effect curve to a weighted population.</p></dd>


<dt id="arg-range">range<a class="anchor" aria-label="anchor" href="#arg-range"></a></dt>
<dd><p>numeric; a numeric vector corresponding either to the lower and upper bounds of the treatment values for which to compute the affect curve or a single number corresponding to the middle quantile of the treatment. Default is .95 to use the .025 and .975 quantiles of the treatment. See Details.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>integer specifying the number of equally spaced grid points on which to compute the effect curve anchor points. Default is 70; higher numbers increase computation time and size of the resulting object but improve accuracy.</p></dd>


<dt id="arg-fwb-args">fwb.args<a class="anchor" aria-label="anchor" href="#arg-fwb-args"></a></dt>
<dd><p>an option list of arguments to be passed to <code><a href="https://ngreifer.github.io/fwb/reference/fwb.html" class="external-link">fwb::fwb()</a></code> when <code>vcov</code> is <code>"boot"</code> or <code>"fwb"</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>effect_curve</code>. This object is a function with attributes. See <code><a href="effect_curve.html">effect_curve</a></code> for details on this function and its outputs.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>adrf()</code> estimates the ADRF by computing average predicted outcomes in the sample for counterfactual treatment values, optionally stratified by grouping variables and accounting for estimation uncertainty via unconditional or conditional variance estimation or bootstrapping. Unconditional variance estimation and bootstrapping treat the sample as random. When <code>vcov = "unconditional"</code>, the variance is computed using the formula in Hansen et al. (2024), which involves augmenting the influence function with a term to account for sampling from the superpopulation. Unconditional variance estimation requires <code><a href="https://sandwich.R-Forge.R-project.org/reference/estfun.html" class="external-link">sandwich::estfun()</a></code> and <code><a href="https://sandwich.R-Forge.R-project.org/reference/bread.html" class="external-link">sandwich::bread()</a></code> methods for the supplied object to be available.</p>
<p>When a <code>mira</code> object from <span class="pkg">mice</span> or a <code>mimira</code> object from <span class="pkg">MatchThem</span> is supplied, analyses are applied to each imputed dataset and pooled using Rubin's rules. Bootstrapping is not allowed with such objects.</p>
<p>When a <code>svyglm</code> object from <span class="pkg">survey</span> is supplied, <code>adrf()</code> automatically incorporates the survey weights extracted from the object. The same is true for <code>glm_weightit</code> objects, etc., from <span class="pkg">WeightIt</span> when <code>s.weights</code> are supplied in the original call to <code>weightit()</code>. See <code><a href="../articles/adrftools.html">vignette("adrftools")</a></code> for more details on using the <code>wts</code> argument.</p><div class="section">
<h3 id="range"><code>range</code><a class="anchor" aria-label="anchor" href="#range"></a></h3>


<p>The <code>range</code> argument controls for which range of the treatment the effect curve is to be evaluated. It can be supplied either as two numbers corresponding to the lower and upper bounds for the treatment (e.g., <code>range = c(0, 10)</code>) or as a single number corresponding to the middle quantile of the treatment (e.g., <code>range = .9</code>, which uses the .05 and .95 quantiles of the treatment as the bounds). The default is .95 to use the .025 and .975 quantiles of the treatment. When supplied as a quantile, the quantiles are evaluated incorporating the weights supplied to <code>wts</code>.</p>
<p>A reason not to use the full treatment range (e.g., by setting <code>range = 1</code>) is that there is likely very little certainty about the effect curve at the treatment extremes. This uncertainty can muddy tests of the effect curve. However, limiting the treatment range means inferences about the effect curve are less generalizable to more extreme values of the treatment. Note that this does not change the data used to fit the effect curve, just the points along the effect curve for which inference and estimation are to take place.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="plot.effect_curve.html">plot.effect_curve()</a></code> for plotting the ADRF</p></li>
<li><p><code><a href="summary.effect_curve.html">summary.effect_curve()</a></code> for testing hypotheses about the ADRF</p></li>
<li><p><code><a href="effect_curve.html">effect_curve</a></code> for computing point estimates along the ADRF</p></li>
<li><p><code><a href="curve_projection.html">curve_projection()</a></code> for projecting a simpler model onto the ADRF</p></li>
<li><p><code><a href="reference_curve.html">reference_curve()</a></code> for computing the difference between each point on the ADRF and a specific reference point</p></li>
<li><p><code><a href="curve_contrast.html">curve_contrast()</a></code> for contrasting ADRFs computed within subgroups</p></li>
<li><p><code><a href="amef.html">amef()</a></code> for computing the average marginal effect function (AMEF), the derivative of the ADRF</p></li>
<li><p><code><a href="https://marginaleffects.com/man/r/predictions.html" class="external-link">marginaleffects::avg_predictions()</a></code> for computing average adjusted predictions for fitted models (similar to the ADRF)</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nhanes3lead"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Math</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly</a></span><span class="op">(</span><span class="va">logBLL</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">*</span></span></span>
<span class="r-in"><span>            <span class="va">Male</span> <span class="op">*</span> <span class="op">(</span><span class="va">Age</span> <span class="op">+</span> <span class="va">Race</span> <span class="op">+</span> <span class="va">PIR</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                      <span class="va">Enough_Food</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          data <span class="op">=</span> <span class="va">nhanes3lead</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRF of logBLL on Math, unconditional</span></span></span>
<span class="r-in"><span><span class="co"># inference</span></span></span>
<span class="r-in"><span><span class="va">adrf1</span> <span class="op">&lt;-</span> <span class="fu">adrf</span><span class="op">(</span><span class="va">fit</span>, treat <span class="op">=</span> <span class="st">"logBLL"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adrf1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An <span style="font-style: italic;">effect_curve</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - curve type: ADRF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - response: Math</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - treatment: logBLL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    + range: -0.3567 to 2.4248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - inference: unconditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Use `plot()` (`?adrftools::plot.effect_curve()`) to plot</span> <span style="font-style: italic;">the curve, `summary()`</span> <span style="font-style: italic;">(`?adrftools::summary.effect_curve()`) to test the curve,</span> <span style="font-style: italic;">or `{object}(values)` (`?adrftools::effect_curve-class()`)</span> <span style="font-style: italic;">to compute estimates.</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Plot the ADRF</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">adrf1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="adrf-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ADRF estimates at given points</span></span></span>
<span class="r-in"><span><span class="fu">adrf1</span><span class="op">(</span>logBLL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               ADRF Estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ──────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  logBLL Estimate Std. Error CI Low CI High</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0    8.413     0.2206  7.887   8.939</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1    8.005     0.0993  7.768   8.241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2    7.103     0.2390  6.533   7.673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ──────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Inference: unconditional, simultaneous</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Confidence level: 95% (t* = 2.385, df = 2437)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRF of logBLL on Math, unconditional</span></span></span>
<span class="r-in"><span><span class="co"># inference; manual range</span></span></span>
<span class="r-in"><span><span class="va">adrf2</span> <span class="op">&lt;-</span> <span class="fu">adrf</span><span class="op">(</span><span class="va">fit</span>, treat <span class="op">=</span> <span class="st">"logBLL"</span>,</span></span>
<span class="r-in"><span>              range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adrf2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An <span style="font-style: italic;">effect_curve</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - curve type: ADRF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - response: Math</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - treatment: logBLL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    + range: 0 to 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - inference: unconditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Use `plot()` (`?adrftools::plot.effect_curve()`) to plot</span> <span style="font-style: italic;">the curve, `summary()`</span> <span style="font-style: italic;">(`?adrftools::summary.effect_curve()`) to test the curve,</span> <span style="font-style: italic;">or `{object}(values)` (`?adrftools::effect_curve-class()`)</span> <span style="font-style: italic;">to compute estimates.</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">adrf2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="adrf-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRF of logBLL on Math, bootstrap</span></span></span>
<span class="r-in"><span><span class="co"># inference</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">adrf_b</span> <span class="op">&lt;-</span> <span class="fu">adrf</span><span class="op">(</span><span class="va">fit</span>, treat <span class="op">=</span> <span class="st">"logBLL"</span>,</span></span>
<span class="r-in"><span>              vcov <span class="op">=</span> <span class="st">"fwb"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adrf_b</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">adrf_b</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRF in subset</span></span></span>
<span class="r-in"><span><span class="va">adrf_m</span> <span class="op">&lt;-</span> <span class="fu">adrf</span><span class="op">(</span><span class="va">fit</span>, treat <span class="op">=</span> <span class="st">"logBLL"</span>,</span></span>
<span class="r-in"><span>               subset <span class="op">=</span> <span class="va">Male</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adrf_m</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An <span style="font-style: italic;">effect_curve</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - curve type: ADRF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - response: Math</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - treatment: logBLL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    + range: -0.3567 to 2.4248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - inference: unconditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Use `plot()` (`?adrftools::plot.effect_curve()`) to plot</span> <span style="font-style: italic;">the curve, `summary()`</span> <span style="font-style: italic;">(`?adrftools::summary.effect_curve()`) to test the curve,</span> <span style="font-style: italic;">or `{object}(values)` (`?adrftools::effect_curve-class()`)</span> <span style="font-style: italic;">to compute estimates.</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRFs in subgroups</span></span></span>
<span class="r-in"><span><span class="va">adrf_by</span> <span class="op">&lt;-</span> <span class="fu">adrf</span><span class="op">(</span><span class="va">fit</span>, treat <span class="op">=</span> <span class="st">"logBLL"</span>,</span></span>
<span class="r-in"><span>                by <span class="op">=</span> <span class="op">~</span><span class="va">Male</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adrf_by</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An <span style="font-style: italic;">effect_curve</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - curve type: ADRF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - response: Math</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - treatment: logBLL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    + range: -0.3567 to 2.4248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - by: Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - inference: unconditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Use `plot()` (`?adrftools::plot.effect_curve()`) to plot</span> <span style="font-style: italic;">the curve, `summary()`</span> <span style="font-style: italic;">(`?adrftools::summary.effect_curve()`) to test the curve,</span> <span style="font-style: italic;">or `{object}(values)` (`?adrftools::effect_curve-class()`)</span> <span style="font-style: italic;">to compute estimates.</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

