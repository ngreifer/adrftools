<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute points on an effect curve — summary.curve_est • adrftools</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute points on an effect curve — summary.curve_est"><meta name="description" content="summary() computes estimates and confidence intervals for specified points on the supplied effect curve."><meta property="og:description" content="summary() computes estimates and confidence intervals for specified points on the supplied effect curve."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adrftools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/adrftools.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/adrftools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute points on an effect curve</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/adrftools/blob/main/R/summary.curve_est.R" class="external-link"><code>R/summary.curve_est.R</code></a></small>
      <div class="d-none name"><code>summary.curve_est.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> computes estimates and confidence intervals for specified points on the supplied effect curve.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'curve_est'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  conf_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  simultaneous <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  null <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  transform <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ci.type <span class="op">=</span> <span class="st">"perc"</span>,</span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'curve_est'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'curve_est'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>an <code><a href="effect_curve.html">effect_curve</a></code> object; the output of a call to <code><a href="adrf.html">adrf()</a></code> or a function that modifies it.</p></dd>


<dt id="arg-conf-level">conf_level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>the desired confidence level. Set to 0 to omit confidence intervals. Default is .95.</p></dd>


<dt id="arg-simultaneous">simultaneous<a class="anchor" aria-label="anchor" href="#arg-simultaneous"></a></dt>
<dd><p><code>logical</code>; whether the computed p-values and confidence intervals should be simultaneous (<code>TRUE</code>) or pointwise (<code>FALSE</code>). Simultaneous (also known as uniform) intervals jointly cover all specified estimates at the desired confidence level, whereas pointwise confidence intervals only cover each estimate at the desired level. Simultaneous p-values are inversions of the simultaneous confidence intervals. Default is <code>TRUE</code>. See Details.</p></dd>


<dt id="arg-null">null<a class="anchor" aria-label="anchor" href="#arg-null"></a></dt>
<dd><p>the null value for the hypothesis tests. Default is to use a null value of 0 when the effect curve is an AMEF, a curve contrast, or a reference effect curve, and to omit hypothesis tests otherwise. Set to <code>NA</code> to manually omit hypothesis tests.</p></dd>


<dt id="arg-transform">transform<a class="anchor" aria-label="anchor" href="#arg-transform"></a></dt>
<dd><p>whether to compute intervals and perform tests on the transformed estimates. Allowable options include <code>TRUE</code>, <code>FALSE</code>, or a function specifying a transformation. Ignored unless <code>object</code> is an ADRF. See Details.</p></dd>


<dt id="arg-ci-type">ci.type<a class="anchor" aria-label="anchor" href="#arg-ci-type"></a></dt>
<dd><p>string; when bootstrapping or Bayesian inference is used in the original effect curve, which type of confidence interval is to be computed. For bootstrapping, allowable options include <code>"perc"</code> for percentile intervals, <code>"wald"</code> for Wald intervals, and other options allowed by <code><a href="https://ngreifer.github.io/fwb/reference/summary.fwb.html" class="external-link">fwb::summary.fwb()</a></code>
. When <code>simultaneous = TRUE</code>, only <code>"perc"</code> and <code>"wald"</code> are allowed. For Bayesian models, allowable options include <code>"perc"</code> for equi-tailed intervals and <code>"wald"</code> for Wald intervals. Default is <code>"perc"</code>. Ignored when bootstrapping is not used and the model is not Bayesian.</p></dd>


<dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>the "denominator" degrees of freedom to use for the tests and critical test statistics for confidence intervals. Default is to use the residual degrees of freedom from the original model if it is a linear model and <code>Inf</code> otherwise.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> returns an object of class <code>summary.curve_est</code>, which inherits from <code><a href="effect_curve.html">curve_est</a></code>. This is a <code>data.frame</code> with columns for the treatment, estimates, and uncertainty measures (p-values, confidence intervals, etc.).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="transform">Transform<a class="anchor" aria-label="anchor" href="#transform"></a></h3>


<p>The usual confidence intervals and tests assume the estimates along the effect curve are normally distributed (or t-distributed when <code>df</code> is not <code>Inf</code>). However, when the outcome is bounded (e.g., a probability bounded between 0 and 1), this assumption may not be valid for the ADRF in finite samples. <code>transform</code> transforms the estimates to ones that are unbounded and computes the corresponding distribution of transformed estimates using the delta method. By default, if a generalized linear model is used for the outcome with a non-identity link function, the estimates are transformed by the link function to be on an unbounded scale. Note this is not the same as using the linear predictor for the effect curve; this is simple a transformation of the estimated points along the curve already computed. Confidence intervals are computed using the transformed estimates before being back-transformed to ensure they are within the bounds of the outcome. When <code>null</code> is a number, that number is also transformed. When <code>transform</code> is specified, standard errors are not reported (i.e., because the standard errors used for tests and confidence intervals are those of the transformed estimates).</p>
</div>

<div class="section">
<h3 id="simultaneous-confidence-intervals-and-tests">Simultaneous confidence intervals and tests<a class="anchor" aria-label="anchor" href="#simultaneous-confidence-intervals-and-tests"></a></h3>


<p>Simultaneous confidence intervals ensure all estimates, not just a given individual point, are contained within the union of confidence intervals at the given confidence level. These are wider than pointwise intervals to reflect that they are covering multiple estimates, which otherwise would decrease the true coverage rate from that specified. <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> uses the "sup-t" simultaneous confidence interval, which is the smallest one-parameter interval that covers all estimates at the desired rate. Simultaneous hypothesis tests are performed by inverting the simultaneous confidence intervals; the p-value for each test is the complement of the smallest confidence level for which a simultaneous confidence intervals accounting for other tests contains the null value. The widths of the confidence intervals and the p-values depend on how many and which estimates are computed.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="adrf.html">adrf()</a></code> for computing the ADRF</p></li>
<li><p><code><a href="effect_curve.html">curve_est</a></code> for information on the output of an effect curve</p></li>
<li><p><code><a href="plot.effect_curve.html">plot.effect_curve()</a></code> for plotting an effect curve</p></li>
<li><p><code><a href="summary.effect_curve.html">summary.effect_curve()</a></code> for testing omnibus hypotheses about a effect curve</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nhanes3lead"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">Block</span> <span class="op">&gt;=</span> <span class="fl">12</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly</a></span><span class="op">(</span><span class="va">logBLL</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">*</span></span></span>
<span class="r-in"><span>             <span class="va">Male</span> <span class="op">*</span> <span class="op">(</span><span class="va">Age</span> <span class="op">+</span> <span class="va">Race</span> <span class="op">+</span> <span class="va">PIR</span> <span class="op">+</span> <span class="va">NICU</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                       <span class="va">Smoke_Pregnant</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           data <span class="op">=</span> <span class="va">nhanes3lead</span>,</span></span>
<span class="r-in"><span>           family <span class="op">=</span> <span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRF of logBLL on P(Block &gt;= 12)</span></span></span>
<span class="r-in"><span><span class="va">adrf1</span> <span class="op">&lt;-</span> <span class="fu"><a href="adrf.html">adrf</a></span><span class="op">(</span><span class="va">fit</span>, treat <span class="op">=</span> <span class="st">"logBLL"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimates along ADRF with simultaneous CIs computed</span></span></span>
<span class="r-in"><span><span class="co"># from transformed estimates</span></span></span>
<span class="r-in"><span><span class="fu">adrf1</span><span class="op">(</span>logBLL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ADRF Estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ───────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  logBLL Estimate CI Low CI High</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0   0.2274 0.1867  0.2740</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1   0.1925 0.1672  0.2206</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2   0.0739 0.0386  0.1368</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ───────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Inference: unconditional, simultaneous</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Confidence level: 95% (z* = 2.386)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimates along ADRF with pointwise CIs computed</span></span></span>
<span class="r-in"><span><span class="co"># from transformed estimates</span></span></span>
<span class="r-in"><span><span class="fu">adrf1</span><span class="op">(</span>logBLL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span>simultaneous <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ADRF Estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ───────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  logBLL Estimate CI Low CI High</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0   0.2274 0.1936  0.2653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1   0.1925 0.1715  0.2154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2   0.0739 0.0434  0.1230</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ───────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Inference: unconditional, pointwise</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Confidence level: 95% (z* = 1.96)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimates along ADRF with simultaneous CIs computed</span></span></span>
<span class="r-in"><span><span class="co"># from original estimates</span></span></span>
<span class="r-in"><span><span class="fu">adrf1</span><span class="op">(</span>logBLL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span>transform <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               ADRF Estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ──────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  logBLL Estimate Std. Error CI Low CI High</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0   0.2274     0.0183 0.1838  0.2711</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1   0.1925     0.0112 0.1658  0.2192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2   0.0739     0.0197 0.0269  0.1209</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ──────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Inference: unconditional, simultaneous</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Confidence level: 95% (z* = 2.386)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimates along ADRF with simultaneous CIs computed</span></span></span>
<span class="r-in"><span><span class="co"># from transformed estimates, hypothesis tests against</span></span></span>
<span class="r-in"><span><span class="co"># null of .1</span></span></span>
<span class="r-in"><span><span class="fu">adrf1</span><span class="op">(</span>logBLL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span>null <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 ADRF Estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ───────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  logBLL Estimate      z  P-value CI Low CI High</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0   0.2274  9.349 &lt; 0.0001 0.1867  0.2740</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1   0.1925 10.599 &lt; 0.0001 0.1672  0.2206</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2   0.0739 -1.151   0.5741 0.0386  0.1368</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ───────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Inference: unconditional, simultaneous</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Confidence level: 95% (z* = 2.386)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Null value: -2.19722457733622</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

